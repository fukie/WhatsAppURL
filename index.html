<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Generate WhatsApp Send URL</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css">
</head>
<body>
	<div class="container mt-5">
		<div class="card">
			<div class="card-header">
				<h1 class="card-title text-center">Generate WhatsApp Send URL</h1>
			</div>
			<div class="card-body">
				<form id="my-form">
					<div class="form-group">
						<label for="countryCode">Country Code:</label>
						<input type="text" class="form-control" id="countryCode" name="countryCode" placeholder="Enter country code (without + sign)" required>
					</div>
					<div class="form-group">
						<label for="number">Phone Number:</label>
						<input type="text" class="form-control" id="number" name="number" placeholder="Enter phone number" required>
					</div>
					<button type="submit" class="btn btn-primary">Generate WhatsApp Send URL</button>
				</form>
				<div id="result" class="mt-3"></div>
			</div>
		</div>
	</div>
	<script>
		const form = document.getElementById('my-form');
		form.addEventListener('submit', (event) => {
			event.preventDefault();
			const formData = new FormData(form);
			const json = JSON.stringify(Object.fromEntries(formData.entries()));
			fetch('https://woswpsoxepasxku2je2g7vnase0ypymr.lambda-url.ap-southeast-2.on.aws/', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: json
			})
			.then(response => response.json())
			.then(data => {
				const resultDiv = document.getElementById('result');
				const link = document.createElement('a');
				link.href = data.url;
				link.textContent = data.url;
				link.target = '_blank';
				resultDiv.textContent = 'Generated WhatsApp Send URL: ';
				resultDiv.appendChild(link);
			})
			.catch(error => console.error(error));
		});
	</script>
</body>
</html>
